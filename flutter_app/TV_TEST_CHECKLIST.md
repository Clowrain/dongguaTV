# Android TV 测试清单

在发布 Android TV 版本之前，请确保以下所有功能都经过测试。

## 1. 平台检测 ✓

- [ ] 在 Android TV 上运行时正确识别为 TV 平台
- [ ] 在手机上运行时识别为移动平台
- [ ] `PlatformUtils.isAndroidTV` 返回正确值
- [ ] 平台初始化在应用启动时完成

## 2. 安装和启动 ✓

- [ ] APK 可以成功安装到 Android TV
- [ ] 应用在 TV Launcher 中正确显示
- [ ] 应用图标/Banner 清晰可见
- [ ] 启动页 Logo 和文字在 TV 上适当放大
- [ ] 启动页显示 "Android TV 流媒体聚合播放器" 文字

## 3. 导航和焦点管理 ✓

### 首页导航
- [ ] 使用遥控器方向键可以在不同媒体卡片间移动焦点
- [ ] 焦点边框清晰可见（3px 宽度，主题色）
- [ ] 焦点卡片有缩放动画（1.1倍）
- [ ] 焦点卡片有发光效果
- [ ] 按下 OK/Enter 键可以打开详情
- [ ] 媒体卡片高度适配 TV（280px vs 200px）

### 视频播放器
- [ ] 播放器控制条在 TV 上使用 `DongguaTvControls`
- [ ] 控制按钮尺寸适合 10-foot UI
- [ ] 焦点可以在各个控制按钮间移动
- [ ] 默认焦点在返回按钮上

## 4. 遥控器快捷键 ✓

### 播放器快捷键
- [ ] **空格/播放暂停键**: 播放/暂停视频
- [ ] **左箭头**: 快退 10 秒
- [ ] **右箭头**: 快进 10 秒
- [ ] **OK/Enter**: 显示/隐藏控制条
- [ ] **返回键**: 退出播放器并返回详情页
- [ ] **菜单键**: （可选）显示更多选项

### 全局快捷键
- [ ] **返回键**: 返回上一页
- [ ] **Home 键**: 返回 TV Launcher（系统级）

## 5. UI 适配（10-foot UI） ✓

### 字体大小
- [ ] 所有文字在 3 米外清晰可读
- [ ] TV 平台字体自动放大 1.3 倍
- [ ] 标题、按钮文字足够大

### 间距和布局
- [ ] TV 平台间距增加 1.5 倍
- [ ] 卡片之间间距合理
- [ ] 按钮尺寸至少 48dp（TV 标准）
- [ ] 内容不会太靠近屏幕边缘

### 视觉效果
- [ ] 焦点高亮效果明显
- [ ] 动画流畅（缩放、渐变）
- [ ] 颜色对比度足够高
- [ ] 在暗光环境下视觉效果良好

## 6. 播放器功能 ✓

### 基本播放
- [ ] 视频可以正常播放
- [ ] 播放/暂停功能正常
- [ ] 进度条可以正常拖动（使用方向键）
- [ ] 音量控制正常
- [ ] 全屏模式正常工作

### 进度控制
- [ ] 左右键快进/快退准确（10秒）
- [ ] 进度条焦点效果明显
- [ ] 时间显示清晰（当前/总时长）

### 控制条
- [ ] 自动隐藏/显示正常
- [ ] 顶部栏显示标题和剧集名
- [ ] 底部栏显示所有控制按钮
- [ ] "下一集" 按钮正确显示（当有下一集时）

## 7. 页面功能

### 首页
- [ ] Hero 轮播区域正常显示
- [ ] 各类别横向列表可以滚动
- [ ] 使用方向键可以上下切换类别
- [ ] "继续观看" 区域正常显示

### 详情页
- [ ] 详情页可以正常打开
- [ ] 剧集列表可以用方向键导航
- [ ] 播放器嵌入显示正常
- [ ] 返回按钮功能正常

### 搜索页
- [ ] 搜索页可以打开
- [ ] （待优化）虚拟键盘输入
- [ ] 搜索结果可以用方向键导航

## 8. 性能测试

- [ ] 应用启动速度正常（<3秒）
- [ ] 页面切换流畅（无卡顿）
- [ ] 视频加载速度正常
- [ ] 内存使用合理（<200MB）
- [ ] 长时间播放无崩溃（>2小时）

## 9. 兼容性测试

### 不同 TV 型号
- [ ] Android TV 9.0 (Pie)
- [ ] Android TV 10.0
- [ ] Android TV 11.0+
- [ ] 不同品牌（小米、索尼、TCL 等）

### 不同遥控器
- [ ] 标准 Android TV 遥控器
- [ ] 带数字键盘的遥控器
- [ ] 语音遥控器
- [ ] 游戏手柄（可选）

## 10. 错误处理

- [ ] 网络断开时有适当提示
- [ ] 视频加载失败时可以重试
- [ ] 服务器错误时有友好提示
- [ ] 没有网络时首页显示离线内容（历史记录）

## 11. 用户体验

### 焦点状态
- [ ] 始终清楚哪个元素有焦点
- [ ] 焦点不会丢失
- [ ] 焦点顺序符合逻辑（从左到右，从上到下）

### 响应速度
- [ ] 按键响应迅速（<100ms）
- [ ] 焦点移动流畅
- [ ] 页面加载有进度指示

### 视觉反馈
- [ ] 按键有视觉或声音反馈
- [ ] 操作结果清晰（如播放已开始）
- [ ] 错误信息清楚明了

## 12. 安全和隐私

- [ ] 没有未经授权的数据收集
- [ ] HTTPS 连接正常工作
- [ ] 用户凭证安全存储
- [ ] 没有硬编码的敏感信息

## 已知问题和待优化项

### 待优化
- [ ] 搜索页虚拟键盘支持
- [ ] 更多手势操作转换为按键操作
- [ ] 播放器双击快进/快退
- [ ] 设置页面 TV 优化

### 已知限制
- ⚠️ 需要触摸屏的功能在 TV 上不可用（如手势调节亮度）
- ⚠️ Web 链接需要用遥控器点击（无鼠标悬停）

## 测试环境

### 推荐测试设备
- **模拟器**: Android Studio AVD (TV profile)
- **真机**: 小米电视、Android TV 盒子
- **开发工具**: ADB 无线调试

### 测试前准备
1. 安装最新版 APK
2. 清除应用数据（首次测试）
3. 连接到测试服务器
4. 准备遥控器或模拟器

## 发布前最终检查

- [ ] 所有核心功能测试通过
- [ ] 没有严重 Bug
- [ ] TV Banner 图标已制作并配置
- [ ] AndroidManifest 配置正确
- [ ] 版本号已更新
- [ ] 发布说明已准备

## 测试报告模板

```
测试日期: ____________________
测试设备: ____________________
Android TV 版本: _____________
应用版本: ____________________

✅ 通过的测试: ____ / ____
❌ 失败的测试: ____ / ____
⚠️ 待优化项: ____ / ____

主要问题:
1. ____________________________
2. ____________________________
3. ____________________________

测试结论: □ 通过 □ 需要修复 □ 需要重新测试

测试人员签名: ________________
```

## 参考资源

- [Android TV 测试指南](https://developer.android.com/training/tv/start/start)
- [TV 应用质量指南](https://developer.android.com/docs/quality-guidelines/tv-app-quality)
- [可访问性测试](https://developer.android.com/guide/topics/ui/accessibility/testing)
